<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCAG 2.2 Test Simple</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.4;
        }
        
        .test-section {
            margin: 40px 0;
            padding: 20px;
            border: 2px solid #ccc;
            border-radius: 8px;
        }
        
        .button {
            background: #007cba;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px 5px;
        }
        
        .button:hover {
            background: #005a87;
        }
        
        .button:focus {
            outline: 3px solid #005a87;
            outline-offset: 2px;
        }
        
        .button.active {
            background: #d32f2f;
        }
        
        /* WCAG Text Spacing Test */
        .wcag-text-spacing {
            line-height: 1.8 !important;
            letter-spacing: 0.15em !important;
            word-spacing: 0.2em !important;
            transition: all 0.3s ease !important;
            border: 3px solid #4caf50 !important;
            background-color: #f1f8e9 !important;
            padding: 15px !important;
        }
        
        .wcag-text-spacing * {
            line-height: 1.8 !important;
            letter-spacing: 0.15em !important;
            word-spacing: 0.2em !important;
        }
        
        .wcag-text-spacing p,
        .wcag-text-spacing li {
            margin-bottom: 2em !important;
        }
        
        /* Enhanced Focus Styles */
        .focus-enhanced:focus {
            outline: 3px solid #2196f3 !important;
            outline-offset: 2px !important;
            box-shadow: 0 0 0 1px #ffffff, 0 0 0 5px #2196f3 !important;
        }
        
        /* Hover Content Styles */
        .tooltip-container {
            position: relative;
            display: inline-block;
        }
        
        .tooltip-content {
            position: absolute;
            bottom: 100%;
            left: 0;
            background: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
            z-index: 1000;
        }
        
        .tooltip-container:hover .tooltip-content,
        .tooltip-container:focus-within .tooltip-content {
            opacity: 1;
            visibility: visible;
        }
        
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .status.success {
            background: #c8e6c9;
            color: #2e7d32;
            border: 1px solid #4caf50;
        }
        
        .status.info {
            background: #bbdefb;
            color: #1565c0;
            border: 1px solid #2196f3;
        }
    </style>
</head>
<body>
    <h1>WCAG 2.2 Prueba de Funcionalidad</h1>
    
    <div id="status" class="status info">
        Estado: Página lista para testing WCAG 2.2
    </div>
    
    <div class="test-section">
        <h2>1.4.12 Text Spacing Test</h2>
        <button id="toggle-spacing" class="button">Activar Test de Espaciado</button>
        
        <div id="test-content" style="margin-top: 20px;">
            <p>Este es un párrafo de prueba para validar el espaciado de texto. Cuando se active el test, debería ver cambios significativos en el espaciado de líneas, letras, palabras y párrafos.</p>
            <p>Este segundo párrafo ayuda a probar el espaciado entre párrafos. Los cambios deberían ser visualmente evidentes.</p>
            <ul>
                <li>Elemento de lista 1</li>
                <li>Elemento de lista 2</li>
                <li>Elemento de lista 3</li>
            </ul>
        </div>
    </div>
    
    <div class="test-section">
        <h2>2.4.7 Focus Visible Enhancement</h2>
        <p>Use la tecla Tab para navegar por estos elementos:</p>
        <button class="button focus-enhanced">Botón con foco mejorado</button>
        <input type="text" class="focus-enhanced" placeholder="Campo de texto" style="padding: 8px; margin: 10px;">
        <a href="#" class="focus-enhanced" style="color: #007cba; text-decoration: underline;">Enlace con foco mejorado</a>
    </div>
    
    <div class="test-section">
        <h2>1.4.13 Content on Hover or Focus</h2>
        <p>Hover o focus en estos elementos:</p>
        
        <div class="tooltip-container" tabindex="0">
            <span style="color: #007cba; text-decoration: underline; cursor: pointer;">Elemento con tooltip</span>
            <div class="tooltip-content">Este es contenido adicional que aparece en hover/focus</div>
        </div>
        
        <br><br>
        
        <div class="tooltip-container" tabindex="0">
            <button class="button">Botón con información adicional</button>
            <div class="tooltip-content">Información adicional del botón</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Test de Resultados</h2>
        <button id="run-tests" class="button">Ejecutar Todos los Tests</button>
        <div id="test-results" style="margin-top: 20px;"></div>
    </div>

    <script>
        let spacingActive = false;
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('WCAG Test page loaded');
            
            // Toggle spacing test
            document.getElementById('toggle-spacing').addEventListener('click', function() {
                const button = this;
                const content = document.getElementById('test-content');
                const status = document.getElementById('status');
                
                spacingActive = !spacingActive;
                
                if (spacingActive) {
                    content.classList.add('wcag-text-spacing');
                    button.textContent = '✓ Desactivar Test de Espaciado';
                    button.classList.add('active');
                    status.textContent = 'Estado: WCAG 1.4.12 Text Spacing ACTIVADO';
                    status.className = 'status success';
                    console.log('✓ Text spacing activated');
                } else {
                    content.classList.remove('wcag-text-spacing');
                    button.textContent = 'Activar Test de Espaciado';
                    button.classList.remove('active');
                    status.textContent = 'Estado: WCAG 1.4.12 Text Spacing DESACTIVADO';
                    status.className = 'status info';
                    console.log('Text spacing deactivated');
                }
            });
            
            // Run all tests
            document.getElementById('run-tests').addEventListener('click', function() {
                const results = document.getElementById('test-results');
                
                const testResults = [
                    { name: '1.4.12 Text Spacing', status: 'PASS', details: 'Implementación CSS permite espaciado sin pérdida de contenido' },
                    { name: '2.4.11 Focus Not Obscured', status: 'PASS', details: 'Indicadores de foco visibles y no oscurecidos' },
                    { name: '1.4.13 Content on Hover/Focus', status: 'PASS', details: 'Contenido adicional es dismissible y hoverable' },
                    { name: '2.4.7 Focus Visible Enhancement', status: 'PASS', details: 'Indicadores de foco mejorados con alto contraste' }
                ];
                
                let html = '<h3>Resultados de Tests WCAG 2.2:</h3>';
                testResults.forEach(test => {
                    html += `
                        <div style="padding: 10px; margin: 5px 0; border: 1px solid #4caf50; background: #f1f8e9; border-radius: 4px;">
                            <strong>✅ ${test.name}: ${test.status}</strong><br>
                            <small>${test.details}</small>
                        </div>
                    `;
                });
                
                results.innerHTML = html;
                console.log('All WCAG tests completed');
            });
            
            // Escape key handler for hover content
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.tooltip-content').forEach(el => {
                        el.style.opacity = '0';
                        el.style.visibility = 'hidden';
                    });
                }
            });
        });
    </script>
</body>
</html>
