---
import Button from "../common/Button.astro";
import Icon from "../common/Icon.astro";
import Logo from "./Logo.astro";
import Nav from "./Nav.astro";
import texts from "@/utils/texts.json";

const headerTexts = texts.header;

const NAVIGATION = [
  { name: headerTexts.nav.home, href: "/" },
  { name: headerTexts.nav.about, href: "about" },
  { name: headerTexts.nav.services, href: "services" },
  { name: headerTexts.nav.contact, href: "contact" },
  { name: headerTexts.nav.faq, href: "faq" },
];
---

<header>
  <!-- Top Contact Bar -->
  <div class="bg-gray-100 text-ag-body-text font-ag-body-text flex flex-col md:flex-row md:justify-between items-center mx-auto p-4">
    <div class="flex gap-4">
      <a
        href="https://maps.app.goo.gl/UbA5eCbGWvF2pyPu9"
        class="hidden sm:flex items-center gap-2 text-center sm:text-left"
      >
        <Icon
          icons={[{ name: "mapMarker" }]}
          size="small"
          variant="default"
        />
        {headerTexts.address}
      </a>
      <a
        href={`tel:${headerTexts.phone}`}
        class="flex items-center gap-2 text-center sm:text-left"
      >
        <Icon
          icons={[{ name: "phone", href: `tel:${headerTexts.phone}` }]}
          size="small"
          variant="default"
        />
        {headerTexts.phone}
      </a>
    </div>
    <div
      class="flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-6 rtl:space-x-reverse mt-2 md:mt-0"
    >
      <div class="flex items-center gap-2">
        <Icon icons={[{ name: "clock" }]} size="small" variant="default" />
        {headerTexts.schedule}
      </div>
      <ul class="hidden sm:flex">
        <li class="space-x-2">
          <Icon
            icons={[
              { name: "facebook", href: headerTexts.socialLinks.facebook },
              { name: "twitter", href: headerTexts.socialLinks.twitter },
              {
                name: "instagram",
                href: headerTexts.socialLinks.instagram,
              },
            ]}
            size="small"
            variant="default"
          />
        </li>
      </ul>
    </div>
  </div>

  <!-- Main Navigation -->
  <nav>
      <div class="flex flex-wrap items-center justify-between mx-auto p-4">
        <a href="/" class="max-w-[200px] block">
          <Logo class="h-14 md:h-20 max-w-fit" color="dark" />
        </a>

        <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
          <Button class="hidden sm:flex" 
          variant="primary" 
          size="medium"
          href={`tel:${headerTexts.phone}`}
        >
            {headerTexts.buttonText}
          </Button>
          <button
            data-collapse-toggle="navbar-cta"
            type="button"
            class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
            aria-controls="navbar-cta"
            aria-expanded="false"
          >
            <span class="sr-only">Open main menu</span>
            <svg
              class="w-5 h-5"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 17 14"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M1 1h15M1 7h15M1 13h15"></path>
            </svg>
          </button>
        </div>
        <div
          class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1"
          id="navbar-cta"
        >
          <Nav links={NAVIGATION} />
        </div>      </div>
    </nav>
</header>
